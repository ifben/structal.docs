Structal

Why is Structal like Ruby? While it has a full restful, resource-oriented mvc mode that mimics [Rails], the more interesting parts of Structal are the simple objects that act like Ruby objects. For instance, Structal includes classes for Google Buzz, Twitter and Facebook, all of which act like John Nunemaker's Ruby Twitter gem. (which is not a part of Rails, but is [Ruby]).

Here's an example, using the Structal Facebook class to connect to Facebook:



########
Facebook
########

require 'structal/facebook.php';

$f = new Facebook( FB_KEY, FB_SEC, FB_AID, FB_NAM, false, url('facebook_login') );

if (!isset( $request->auth_token )) {

	$token = $f->request_token();
	redirect_to( $token->authorize_url() );

}

list( $userid, $sesskey ) = $f->authorize_from_access();



###########
Google Buzz
###########

require 'structal/buzz.php';

$b = new Buzz( GG_KEY, GG_SEC, url('buzz_login') );

if (!isset( $request->oauth_token )) {

	$token = $b->request_token();

	$_SESSION['token_secret'] = $token->secret;

	redirect_to( $token->authorize_url() );

}

list( $atoken, $asecret ) = $b->authorize_from_request( $request->oauth_token, $_SESSION['token_secret'], $request->oauth_verifier );



#######
Twitter
#######

require 'structal/twitter.php';

$t = new Twitter( TW_KEY, TW_SEC );

if (!isset($request->oauth_token)) {

	$token = $t->request_token();

	$_SESSION['token_secret'] = $token->secret;

	redirect_to( $token->authorize_url() );

}

list( $atoken, $asecret ) = $t->authorize_from_request( $request->oauth_token, $_SESSION['token_secret'] );






See the full example here:

http://github.com/voitto/structal/blob/master/example1/index.php


Structal doesn't really have a home page yet, but it will be at http://structal.org -- you can follow the blog at http://structal.org/blog/ or the Twitter account at http://twitter.com/structal_lang - thanks!